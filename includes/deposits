<h1 id='c4da615673'>Депозиты</h1><h2 id='b3d4caadb3'>История депозитов</h2>
<blockquote>
<p>Получить список депозитов:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposits"</span>
</code></pre>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36931</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500000.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Наличные касса Москва: "</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-23T10:10:23+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-23T10:10:36+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36354</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61000.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"код пополнения: TGJ0C5IYM62PBDR8HAQO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-05T23:13:01+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-05T23:13:01+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36060</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"640.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88178478a5df7c3dd0a53dddf70fc0c092f5fc4b0fff6f3058381f99c7e92abe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">9606704</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">23212</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xda36a74ca59f8816dc330fae1074223aa89833a1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:49:13+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:50:05+03:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='40426907e0'>Получение списка депозитов пользователя.</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposits</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>нет</td>
<td>Получить список депозитов только по указанной валюте</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>нет</td>
<td>Количество результатов в ответе, по умолчанию 50. Максимум - 500</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td>нет</td>
<td>Статус депозита: <ul><li>pending</li><li>canceled</li><li>submitted</li><li>accepted</li><li>rejected</li></ul></td>
</tr>
</tbody></table>
<h3 id='bd6108841b'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом списке различаются для фиатных и крипто депозитов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>.</p>
<h2 id='3e577c2287'>Информация о депозите</h2>
<blockquote>
<p>Получить детали депозита по deposit id:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposit/{deposit_id}"</span>
</code></pre>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36060</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"640.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88178478a5df7c3dd0a53dddf70fc0c092f5fc4b0fff6f3058381f99c7e92abe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">9606704</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">23212</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xda36a74ca59f8816dc330fae1074223aa89833a1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:49:13+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:50:05+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='id'>Получение детальной информации о депозите по id</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposit/{deposit_id}</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>deposit_id</strong></td>
<td>да</td>
<td>ID депозита полученное при его создании / из истории депозитов</td>
</tr>
</tbody></table>
<h3 id='bd6108841b-2'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом списке различаются для фиатных и крипто депозитов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>.</p>

<blockquote>
<p>Получить детали депозита по txid:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposit?txid={txid}"</span>
</code></pre>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36060</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"640.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88178478a5df7c3dd0a53dddf70fc0c092f5fc4b0fff6f3058381f99c7e92abe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">9606704</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">23212</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xda36a74ca59f8816dc330fae1074223aa89833a1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:49:13+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:50:05+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='txid'>Получение детальной информации о депозите по txid транзакции</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposit?txid={txid}</code></p>
<h3 id='6744ad4c7a-3'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>txid</strong></td>
<td>да</td>
<td>txid транзакции в блокчейне</td>
</tr>
</tbody></table>
<h3 id='bd6108841b-3'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом списке различаются для фиатных и крипто депозитов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>.</p>
<h2 id='5876f71674'>Создание депозита</h2>
<blockquote>
<p>Создать заявку на депозит:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST -H <span class="s1">'Authorization: Bearer {JWT}'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'currency={currency_id}&amp;amount={amount}&amp;gateway_type_id={gateway_type_id}'</span> <span class="s1">'https://garantex.io/api/v2/deposits/create'</span>
</code></pre>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36960</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Наличные касса Москва: "</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-08T20:33:58+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='e3f9070304'>Создание заявки на внос средств.</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://garantex.io/api/v2/deposits/create</code></p>
<h3 id='6744ad4c7a-4'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>Код фиатной валюты (rub)</td>
</tr>
<tr>
<td><strong>amount</strong></td>
<td>да</td>
<td>Размер депозита</td>
</tr>
<tr>
<td><a href='#92dd9b64ca'>gateway_type_id</a></td>
<td>да</td>
<td>ID выбранного метода пополнения</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td>нет</td>
<td>JSON поле с дополнительной информацией о депозите, необходимость и формат поля зависят от выбранного метода пополнения</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>нет</td>
<td>Информация об адресе депозита, необходимость и формат поля зависят от выбранного метода пополнения</td>
</tr>
</tbody></table>
<h2 id='6736666fad'>Адрес для депозита крипты</h2>
<blockquote>
<p>Получить адрес для депозита крипты:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposit_address?currency={currency_id}"</span>
</code></pre>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt-omni"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3DVQ9WL2rTjBm1q7UHwWAQdNCKveFRJCYk"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='d730996a71'>Получение адреса для депозита крипты</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposit_address?currency={currency_id}</code></p>
<h3 id='6744ad4c7a-5'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>ID валюты для депозита</td>
</tr>
</tbody></table>
<h3 id='9b6a512f8e'>Мульти-блокчейн валюты</h3>
<p>Для валют которые используют больше чем один блокчейн, по умолчанию возвращается адрес для &quot;основного&quot; блокчейна.
При необходимости получить адрес из другого блокчейна, он указывается через дефис, например usdt-omni.</p>
