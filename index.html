
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Garantex API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;php&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-1e815a84.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="javascript">NodeJS</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#b41a828c58" class="toc-h1 toc-link" data-title="История изменений">История изменений</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#14-11-2020" class="toc-h2 toc-link" data-title="14.11.2020">14.11.2020</a>
                  </li>
                  <li>
                    <a href="#09-11-2020" class="toc-h2 toc-link" data-title="09.11.2020">09.11.2020</a>
                  </li>
                  <li>
                    <a href="#10-05-2020" class="toc-h2 toc-link" data-title="10.05.2020">10.05.2020</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#3394112aa9" class="toc-h1 toc-link" data-title="Введение">Введение</a>
          </li>
          <li>
            <a href="#490e809eef" class="toc-h1 toc-link" data-title="Тестирование">Тестирование</a>
          </li>
          <li>
            <a href="#93900fccba" class="toc-h1 toc-link" data-title="Авторизация">Авторизация</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#jwt" class="toc-h2 toc-link" data-title="JWT-токен">JWT-токен</a>
                  </li>
                  <li>
                    <a href="#ce7d35ddc5" class="toc-h2 toc-link" data-title="Авторизация запросов">Авторизация запросов</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c850ebec42" class="toc-h1 toc-link" data-title="Общая информация">Общая информация</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#47ff48632f" class="toc-h2 toc-link" data-title="Рынки">Рынки</a>
                  </li>
                  <li>
                    <a href="#66f4033be7" class="toc-h2 toc-link" data-title="Валюты">Валюты</a>
                  </li>
                  <li>
                    <a href="#c80d7e8172" class="toc-h2 toc-link" data-title="Время">Время</a>
                  </li>
                  <li>
                    <a href="#95ddcebbec" class="toc-h2 toc-link" data-title="Комиссии на вывод крипты">Комиссии на вывод крипты</a>
                  </li>
                  <li>
                    <a href="#92dd9b64ca" class="toc-h2 toc-link" data-title="Способы пополнения и вывода фиата">Способы пополнения и вывода фиата</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#market-data" class="toc-h1 toc-link" data-title="Market data">Market data</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#f00f8079b3" class="toc-h2 toc-link" data-title="Сделки">Сделки</a>
                  </li>
                  <li>
                    <a href="#be11d71726" class="toc-h2 toc-link" data-title="Заявки">Заявки</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#5b16fcdd97" class="toc-h1 toc-link" data-title="Аккаунт">Аккаунт</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#df6e209eff" class="toc-h2 toc-link" data-title="Счета">Счета</a>
                  </li>
                  <li>
                    <a href="#51aff18539" class="toc-h2 toc-link" data-title="Пользователь">Пользователь</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#99866db24b" class="toc-h1 toc-link" data-title="Торговые операции">Торговые операции</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#121ed44f23" class="toc-h2 toc-link" data-title="История сделок">История сделок</a>
                  </li>
                  <li>
                    <a href="#a6ef9063b1" class="toc-h2 toc-link" data-title="История заявок">История заявок</a>
                  </li>
                  <li>
                    <a href="#4f56d3d029" class="toc-h2 toc-link" data-title="Информация о заявке">Информация о заявке</a>
                  </li>
                  <li>
                    <a href="#347f4bc1c5" class="toc-h2 toc-link" data-title="Установить заявку">Установить заявку</a>
                  </li>
                  <li>
                    <a href="#38c31abdc2" class="toc-h2 toc-link" data-title="Отменить заявку">Отменить заявку</a>
                  </li>
                  <li>
                    <a href="#eb41402311" class="toc-h2 toc-link" data-title="Отменить все заявки">Отменить все заявки</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c4da615673" class="toc-h1 toc-link" data-title="Депозиты">Депозиты</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#b3d4caadb3" class="toc-h2 toc-link" data-title="История депозитов">История депозитов</a>
                  </li>
                  <li>
                    <a href="#3e577c2287" class="toc-h2 toc-link" data-title="Информация о депозите">Информация о депозите</a>
                  </li>
                  <li>
                    <a href="#5876f71674" class="toc-h2 toc-link" data-title="Создание депозита">Создание депозита</a>
                  </li>
                  <li>
                    <a href="#6736666fad" class="toc-h2 toc-link" data-title="Адрес для депозита крипты">Адрес для депозита крипты</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#garantex" class="toc-h1 toc-link" data-title="Коды Garantex">Коды Garantex</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#58a6cf1712" class="toc-h2 toc-link" data-title="Выпуск кода">Выпуск кода</a>
                  </li>
                  <li>
                    <a href="#7014b0a527" class="toc-h2 toc-link" data-title="Депозит кода">Депозит кода</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#23dab7a7ad" class="toc-h1 toc-link" data-title="Выводы">Выводы</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#f8eb11b7d7" class="toc-h2 toc-link" data-title="История выводов">История выводов</a>
                  </li>
                  <li>
                    <a href="#f0e3b97934" class="toc-h2 toc-link" data-title="Создание заявки на вывод">Создание заявки на вывод</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#allbacks" class="toc-h1 toc-link" data-title="Сallbacks">Сallbacks</a>
          </li>
          <li>
            <a href="#681b5ae3d2" class="toc-h1 toc-link" data-title="Ошибки">Ошибки</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://garantex.io/'>Создать аккаунт</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='b41a828c58'>История изменений</h1><h3 id='14-11-2020'>14.11.2020</h3>
<ul>
<li>получение дополнительных депозит адресов: POST /deposit_address, GET /deposit_address/details</li>
</ul>
<h3 id='09-11-2020'>09.11.2020</h3>
<ul>
<li>параметры iss, sub, iat в запросе JWT больше не требуются</li>
<li>запрос /gateway_types теперь требует авторизации</li>
<li>добавлены запросы /depositcodes/create и /depositcodes/redeem для работы с кодами Garantex </li>
</ul>
<h3 id='10-05-2020'>10.05.2020</h3>
<ul>
<li>первая публичная версия API </li>
</ul>
<h1 id='3394112aa9'>Введение</h1>
<p>Для начала работы с API, нужно:</p>

<ul>
<li><p>связаться с саппортом и попросить включить доступ к API</p></li>
<li><p>в настройка профиля включить Google Authenticator</p></li>
<li><p>в настройках <a href='https://garantex.io/settings'>профиля</a> создать пару ключей и ОБЯЗАТЕЛЬНО сохранить приватный ключ к себе - он будет показан только один раз и нигде на стороне сервера не сохраняется.</p></li>
<li><p>выставить ограничения для ключа: тип доступа (<strong>read-only</strong>, <strong>trading</strong>, <strong>withdrawa</strong>), время жизни JWT и список ip адресов с которых возможен доступ.</p></li>
</ul>

<aside class="warning">
Никогда не включайте для API ключей права на вывод средств без фильтрации по IP адресу!
</aside>
<h1 id='490e809eef'>Тестирование</h1>
<p>Для тестирования работы с API можно использовать тестовый сервер, stage.garantex.biz.
Тестовый сервер во всём аналогичен рабочему, кроме исполнения депозитов / выводов, и использует копию базы с продакшна.
Если для тестов необходимы дополнительные лимиты на тестовом сервера, они могут быть получены через саппорт.</p>

<p>Актуальная онлайн версия документации по API и инструменты для тестирования методов доступны по адресу: <a href='https://stage.garantex.biz/swagger?url=/api/v2/swagger'>https://stage.garantex.biz/swagger?url=/api/v2/swagger</a></p>

<p>Для авторизации в swagger API ключ нужно указывать как <strong>Bearer {JWT}</strong>, где {JWT} это JWT токен.</p>

<aside class="notice">
Версия API на стейдж сервере может быть более новой и в некоторых моментах отличаться от описанной в документации.   
</aside>
<h1 id='93900fccba'>Авторизация</h1><h2 id='jwt'>JWT-токен</h2>
<blockquote>
<p>Запрос и получение JWT токена:</p>
</blockquote>
<div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'openssl'</span>
<span class="nb">require</span> <span class="s1">'base64'</span>
<span class="nb">require</span> <span class="s1">'json'</span>
<span class="nb">require</span> <span class="s1">'securerandom'</span>
<span class="nb">require</span> <span class="s1">'jwt'</span>
<span class="nb">require</span> <span class="s1">'active_support/time'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>


<span class="n">host</span> <span class="o">=</span> <span class="s1">'stage.garantex.biz'</span>
<span class="n">private_key</span> <span class="o">=</span> <span class="s1">'{приватный ключ, полученный на этапе создания API ключей}'</span>
<span class="n">uid</span> <span class="o">=</span> <span class="s1">'{UID, полученный на этапе создания API ключей}'</span>

<span class="n">secret_key</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">PKey</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="no">Base64</span><span class="p">.</span><span class="nf">urlsafe_decode64</span><span class="p">(</span><span class="n">private_key</span><span class="p">))</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">exp: </span><span class="mi">1</span><span class="p">.</span><span class="nf">hours</span><span class="p">.</span><span class="nf">from_now</span><span class="p">.</span><span class="nf">to_i</span><span class="p">,</span> <span class="c1"># JWT Request TTL in seconds since epoch</span>
    <span class="ss">jti: </span><span class="no">SecureRandom</span><span class="p">.</span><span class="nf">hex</span><span class="p">(</span><span class="mi">12</span><span class="p">).</span><span class="nf">upcase</span>
<span class="p">}</span>
<span class="n">jwt_token</span> <span class="o">=</span> <span class="no">JWT</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">secret_key</span><span class="p">,</span> <span class="s1">'RS256'</span><span class="p">)</span>

<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">"https://dauth.</span><span class="si">#{</span><span class="n">host</span><span class="si">}</span><span class="s2">/api/v1/sessions/generate_jwt"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">scheme</span> <span class="o">==</span> <span class="s1">'https'</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">path</span><span class="p">,</span> <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">kid: </span><span class="n">uid</span><span class="p">,</span> <span class="ss">jwt_token: </span><span class="n">jwt_token</span> <span class="p">}.</span><span class="nf">to_json</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">start</span> <span class="p">{</span><span class="o">|</span><span class="n">h</span><span class="o">|</span> <span class="n">h</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)}</span>
<span class="n">data</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'token'</span><span class="p">]</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// composer require lcobucci/jwt</span>

<span class="kn">use</span> <span class="nn">Lcobucci\JWT\Builder</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Lcobucci\JWT\Signer\Key</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Lcobucci\JWT\Signer\Rsa\Sha256</span><span class="p">;</span>

<span class="nv">$host</span> <span class="o">=</span> <span class="s1">'garantex.io'</span><span class="p">;</span>
<span class="nv">$private_key</span> <span class="o">=</span> <span class="s1">'{приватный ключ, полученный на этапе создания API ключей}'</span><span class="p">;</span>
<span class="nv">$uid</span> <span class="o">=</span> <span class="s1">'{UID, полученный на этапе создания API ключей}'</span><span class="p">;</span>

<span class="nv">$time</span> <span class="o">=</span> <span class="nb">time</span><span class="p">();</span>
<span class="nv">$signer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sha256</span><span class="p">();</span>
<span class="nv">$privateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Key</span><span class="p">(</span><span class="nb">base64_decode</span><span class="p">(</span><span class="nv">$private_key</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Builder</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">identifiedBy</span><span class="p">(</span><span class="nb">bin2hex</span><span class="p">(</span><span class="nb">random_bytes</span><span class="p">(</span><span class="mi">12</span><span class="p">)))</span>
                        <span class="o">-&gt;</span><span class="na">expiresAt</span><span class="p">(</span><span class="nv">$time</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">)</span> <span class="c1">// JWT Request TTL in seconds since epoch</span>
                        <span class="o">-&gt;</span><span class="na">getToken</span><span class="p">(</span><span class="nv">$signer</span><span class="p">,</span>  <span class="nv">$privateKey</span><span class="p">);</span>

<span class="nv">$post_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'kid'</span> <span class="o">=&gt;</span> <span class="nv">$uid</span><span class="p">,</span> <span class="s1">'jwt_token'</span> <span class="o">=&gt;</span> <span class="nb">strval</span><span class="p">(</span><span class="nv">$token</span><span class="p">));</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://dauth.</span><span class="nv">$host</span><span class="s2">/api/v1/sessions/generate_jwt"</span><span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="nx">CURLOPT_POST</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">TRUE</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Content-Type: application/json'</span><span class="p">),</span>
    <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$post_data</span><span class="p">)</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$response</span> <span class="o">===</span> <span class="kc">FALSE</span><span class="p">)</span>
    <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$response</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">'token'</span><span class="p">];</span>

</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Модули</span>
<span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// npm i axios</span>
<span class="kd">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">jsonwebtoken</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// npm i jsonwebtoken</span>
<span class="kd">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// Константы</span>
<span class="kd">const</span> <span class="nx">host</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">garantex.io</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">***</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// приватный ключ, полученный на этапе создания API ключей</span>
<span class="kd">const</span> <span class="nx">uid</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">***</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// UID, полученный на этапе создания API ключей</span>

<span class="c1">// Получаем токен</span>
<span class="kd">const</span> <span class="nx">getToken</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">{</span> <span class="nx">data</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span>
      <span class="dl">"</span><span class="s2">https://dauth.</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">host</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">/api/v1/sessions/generate_jwt</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">{</span>
        <span class="na">kid</span><span class="p">:</span> <span class="nx">uid</span><span class="p">,</span>
        <span class="na">jwt_token</span><span class="p">:</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span>
          <span class="p">{</span>
            <span class="na">exp</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">60</span><span class="p">,</span> <span class="c1">// JWT Request TTL: 30 minutes</span>
            <span class="na">jti</span><span class="p">:</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">12</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">),</span>
          <span class="p">},</span>
          <span class="k">new</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">,</span> <span class="dl">"</span><span class="s2">base64</span><span class="dl">"</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="dl">"</span><span class="s2">ascii</span><span class="dl">"</span><span class="p">),</span>
          <span class="p">{</span> <span class="na">algorithm</span><span class="p">:</span> <span class="dl">"</span><span class="s2">RS256</span><span class="dl">"</span> <span class="p">}</span>
        <span class="p">),</span>
      <span class="p">}</span>
    <span class="p">);</span>
    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">token</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Тест работоспособности</span>
<span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">{</span> <span class="nx">data</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span>
      <span class="dl">"</span><span class="s2">https://</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">host</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">/api/v2/orders/clear</span><span class="dl">"</span><span class="p">,</span>
      <span class="kc">null</span><span class="p">,</span>
      <span class="p">{</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="k">await</span> <span class="nx">getToken</span><span class="p">()}</span><span class="s2">`</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">}</span>
    <span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">})();</span>
</code></pre></div>
<blockquote>
<p>Не забудьте заменить private_key и uid на значения полученные при создании API ключей!</p>
</blockquote>

<p>Garantex использует стандартную схему JWT авторизации (документация: <a href="https://jwt.io/">https://jwt.io/</a> и <a href="https://tools.ietf.org/html/rfc7519">https://tools.ietf.org/html/rfc7519</a>), то есть для работы с методами API вначале нужно запросить у сервера JWT токен, который уже будет использоваться в Bearer аутентификации.</p>

<p>Полученный токен нужно сохранить и использовать его для запросов. Не нужно создавать новый токен на каждый запрос!<br>
Время жизни JWT токена ограничено, и после его истечения токен становится недействительным. </p>

<p>Время жизни JWT определяется <em>параметрами API ключа</em>, и может быть изменено в настройках для каждого API ключа.
Минимальное время жизни JWT 30 минут, максимальное 24 часа. По умолчанию значение TTL 24 часа.   </p>

<p>Справа приведены примеры кода для получения токена на Ruby, PHP и NodeJS.</p>

<p>Параметры JWT запроса:</p>

<ul>
<li>exp - опциональный, время жизни JWT запроса. Не устанавливать его слишком большим и не оставляйте пустым, если вы не планируете переиспользовать запрос многократно.</li>
<li>jti - обязательный, уникальный идентификатор запроса.</li>
<li>алгоритм подписи JWT - <strong>RS256</strong></li>
<li>все остальные опциональные параметры не используются и устанавливать их не обязательно.</li>
</ul>

<p>Для тестов можно использовать форму получения JWT токена на сайте, по адресу:</p>

<ul>
<li><a href="https://stage.garantex.biz/api_test">https://stage.garantex.biz/api_test</a> - стейдж, тестовый сервер. </li>
<li><a href="https://garantex.io/api_test">https://garantex.io/api_test</a> - продакшн, боевой сервер.</li>
</ul>

<p>Для декодирования и проверки токенов можно использовать онлайн отладчик на сайте <a href="https://jwt.io/">https://jwt.io/</a></p>

<aside class="notice">
Не забудьте заменить private_key и uid в примерах на значения полученные при создании API ключей!
</aside>

<aside class="notice">
Ключи полученные на тестовом сервере (https://stage.garantex.biz/) будут работать только на тестовом сервере, а продакшн ключи (https://garantex.io/) - только на продакшне!
</aside>
<h2 id='ce7d35ddc5'>Авторизация запросов</h2>
<blockquote>
<p>Пример GET-запроса:<br>
{JWT} - токен, полученный на предыдущем шаге<br>
{market} - идентификатор рынка, например btcrub</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s1">'Authorization: Bearer {JWT}'</span> <span class="s1">'https://stage.garantex.biz/api/v2/trades?market={market}'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>


<span class="n">host</span> <span class="o">=</span> <span class="s1">'stage.garantex.biz'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">'{JWT}'</span>
<span class="n">market</span> <span class="o">=</span> <span class="s1">'{market}'</span>
<span class="n">custom_headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">"https://</span><span class="si">#{</span><span class="n">host</span><span class="si">}</span><span class="s2">/api/v2/trades?market=</span><span class="si">#{</span><span class="n">market</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span> <span class="n">uri</span><span class="p">.</span><span class="nf">hostname</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="n">uri</span><span class="p">.</span><span class="nf">scheme</span> <span class="o">==</span> <span class="s1">'https'</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
  <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span> <span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span>
  <span class="n">custom_headers</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">|</span> <span class="n">request</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="p">}</span>
  <span class="n">http</span><span class="p">.</span><span class="nf">request</span> <span class="n">request</span>
<span class="k">end</span>

<span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPResponse</span> <span class="o">===</span> <span class="n">response</span> <span class="c1"># Error occured</span>
<span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPOK</span> <span class="o">===</span> <span class="n">response</span> <span class="c1"># HTTP error with code</span>
<span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span> <span class="c1"># Response is empty</span>

<span class="n">trades_data</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$host</span> <span class="o">=</span> <span class="s1">'stage.garantex.biz'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'{JWT}'</span><span class="p">;</span>
<span class="nv">$market</span> <span class="o">=</span> <span class="s1">'{market}'</span><span class="p">;</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$host</span><span class="o">.</span><span class="s1">'/api/v2/trades?'</span><span class="o">.</span><span class="nb">http_build_query</span><span class="p">([</span><span class="s1">'market'</span> <span class="o">=&gt;</span> <span class="nv">$market</span><span class="p">]));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span><span class="s1">'Authorization: Bearer '</span><span class="o">.</span><span class="nv">$token</span><span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> 
    <span class="k">echo</span> <span class="s1">'Curl error: '</span><span class="o">.</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="k">else</span>
    <span class="nv">$trades_data</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

</code></pre></div>
<blockquote>
<p>Пример POST-запроса:<br>
{JWT} - токен, полученный на предыдущем шаге<br>
{currency} - код фиатной валюты, например rub<br>
{amount} - сумма вывода, например 10000</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s1">'Authorization: Bearer {JWT}'</span> <span class="nt">-H</span> <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> <span class="nt">-d</span> <span class="s1">'currency={currency}&amp;amount={amount}'</span> <span class="s1">'https://stage.garantex.biz/api/v2/depositcodes/create'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>


<span class="n">host</span> <span class="o">=</span> <span class="s1">'stage.garantex.biz'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">'{JWT}'</span>
<span class="n">currency</span> <span class="o">=</span> <span class="s1">'{currency}'</span>
<span class="n">amount</span> <span class="o">=</span> <span class="s1">'{amount}'</span>
<span class="n">custom_headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">"https://</span><span class="si">#{</span><span class="n">host</span><span class="si">}</span><span class="s2">/api/v2/depositcodes/create"</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span> <span class="n">uri</span><span class="p">.</span><span class="nf">hostname</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="n">uri</span><span class="p">.</span><span class="nf">scheme</span> <span class="o">==</span> <span class="s1">'https'</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
  <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span> <span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span>
  <span class="n">custom_headers</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">|</span> <span class="n">request</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="p">}</span>
  <span class="n">request</span><span class="p">.</span><span class="nf">set_form_data</span><span class="p">({</span><span class="ss">currency: </span><span class="n">currency</span><span class="p">,</span> <span class="ss">amount: </span><span class="n">amount</span><span class="p">})</span>
  <span class="n">http</span><span class="p">.</span><span class="nf">request</span> <span class="n">request</span>
<span class="k">end</span>

<span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPResponse</span> <span class="o">===</span> <span class="n">response</span> <span class="c1"># Error occured</span>
<span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPOK</span> <span class="o">===</span> <span class="n">response</span> <span class="c1"># HTTP error with code</span>
<span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span> <span class="c1"># Response is empty</span>

<span class="n">depositcode_data</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$host</span> <span class="o">=</span> <span class="s1">'stage.garantex.biz'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'{JWT}'</span><span class="p">;</span>
<span class="nv">$currency</span> <span class="o">=</span> <span class="s1">'{currency}'</span><span class="p">;</span>
<span class="nv">$amount</span> <span class="o">=</span> <span class="s1">'{amount}'</span><span class="p">;</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$host</span><span class="o">.</span><span class="s1">'/api/v2/depositcodes/create'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span><span class="s1">'Authorization: Bearer '</span><span class="o">.</span><span class="nv">$token</span><span class="p">]);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span> 
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="p">[</span><span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="nv">$currency</span><span class="p">,</span> <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="nv">$amount</span><span class="p">]);</span> 

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> 
    <span class="k">echo</span> <span class="s1">'Curl error: '</span><span class="o">.</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="k">else</span>
    <span class="nv">$depositcode_data</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

</code></pre></div>
<p>Для запроса данных через API Garantex необходимо использовать <a href="https://tools.ietf.org/html/rfc6750#section-2.1">OAuth 2.0 Bearer аутентификацию</a>.</p>
<h1 id='c850ebec42'>Общая информация</h1><h2 id='47ff48632f'>Рынки</h2>
<blockquote>
<p>Получить список рынков:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://garantex.io/api/v2/markets"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcrub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/RUB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает список всех активных рынков.</p>

<ul>
<li>требуемый уровень доступа: <strong>публичный</strong></li>
</ul>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/markets</code></p>
<h2 id='66f4033be7'>Валюты</h2><h3 id='6c9959ad57'>Получить список всех активных валют</h3>
<blockquote>
<p>Получить список активных валют:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://garantex.io/api/v2/currencies"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"฿"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"explorer_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.blockchain.com/btc/tx/#{txid}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"explorer_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.blockchain.com/btc/address/#{address}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_deposit_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00005"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"withdraw_min_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"explorer_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://etherscan.io/tx/#{txid}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"explorer_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://etherscan.io/address/#{address}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_deposit_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"withdraw_min_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.36"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос для получения списка всех доступных для работы валют.</p>

<ul>
<li>требуемый уровень доступа: <strong>публичный</strong></li>
</ul>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/currencies</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>нет</td>
<td>Ограничить вывод криптовалютами / фиатными валютами. Может принимать значения <strong>coin</strong> и <strong>fiat</strong>.</td>
</tr>
</tbody></table>
<h2 id='c80d7e8172'>Время</h2>
<blockquote>
<p>Получить текущий timestamp:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://garantex.io/api/v2/timestamp"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="s2">"2020-05-08T17:58:40+00:00"</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает текущее время сервера</p>

<ul>
<li>требуемый уровень доступа: <strong>публичный</strong></li>
</ul>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/timestamp</code></p>
<h2 id='95ddcebbec'>Комиссии на вывод крипты</h2>
<blockquote>
<p>Получить значение комиссий на вывод крипты</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://garantex.io/api/v2/fees/withdraw/coin"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">минимальная</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">вывода</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"small_amount"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">тип</span><span class="w"> </span><span class="err">комиссии</span><span class="p">,</span><span class="w"> </span><span class="err">fixed</span><span class="w"> </span><span class="err">или</span><span class="w"> </span><span class="err">small</span><span class="w"> </span><span class="err">amount</span><span class="w">
        </span><span class="nl">"up_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">максимальная</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">которой</span><span class="w"> </span><span class="err">применяется</span><span class="w"> </span><span class="err">тип</span><span class="w"> </span><span class="err">комисии</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00005"</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">значение</span><span class="w"> </span><span class="err">комиссии</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0004"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.34"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.17"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает акутальные комиссии на вывод крипты.</p>

<ul>
<li>требуемый уровень доступа: <strong>публичный</strong></li>
</ul>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/fees/withdraw/coin</code></p>
<h3 id='bd6108841b'>Возвращаемые значения</h3>
<p>Для некоторых валют могут использоваться разные способы отправки, в зависимости от размера вывода, с разными комиссиями, и тогда массив <strong>fee</strong> будет содержать больше одного элемента, с разными значениями <strong>type</strong>.
Максимальнаz сумма применимости комиссии будет указана в поле <strong>up_to</strong>.</p>

<p>Например для BTC есть тип отправки <strong>small_amount</strong>, для небольших сумм и с низкой комиссией, и <strong>fixed</strong>, для всего что больше максимального размера (<strong>up_to</strong>) для типа <strong>small_amount</strong>.</p>
<h2 id='92dd9b64ca'>Способы пополнения и вывода фиата</h2>
<blockquote>
<p>Получить список направлений для депозита / вывода фиата</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://garantex.io/api/v2/gateway_types?currency={currency_id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdraw"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">направление</span><span class="p">,</span><span class="w"> </span><span class="err">deposit</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">withdraw</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">       
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Сбербанк онлайн регионы"</span><span class="p">,</span><span class="w">  
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Вывод на карты региона отличного от Московского."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Введите номер карты региона отличного от Москвы"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">описание</span><span class="w"> </span><span class="err">требуемых</span><span class="w"> </span><span class="err">параметров</span><span class="w"> </span><span class="err">(поле</span><span class="w"> </span><span class="err">address)</span><span class="w">
    </span><span class="nl">"min_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15000.0"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">минимальная</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">депозита</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">вывода</span><span class="w">
    </span><span class="nl">"max_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000000.0"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">максимальная</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">депозита</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">вывода</span><span class="w">
    </span><span class="nl">"rounding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">кратность</span><span class="w"> </span><span class="err">суммы</span><span class="w"> 
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">комиссия:</span><span class="w"> </span><span class="err">процент</span><span class="w"> </span><span class="err">от</span><span class="w"> </span><span class="err">суммы</span><span class="w"> </span><span class="err">(</span><span class="mi">2</span><span class="err">%)</span><span class="w">
    </span><span class="nl">"fee_fixed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">комиссия:</span><span class="w"> </span><span class="err">фиксированная</span><span class="w"> </span><span class="err">компонента</span><span class="w">
    </span><span class="nl">"fee_limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.0"</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">комиссия:</span><span class="w"> </span><span class="err">максимальный</span><span class="w"> </span><span class="err">размер</span><span class="w"> </span><span class="err">(не</span><span class="w"> </span><span class="err">более</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="err">рублей)</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Наличные любой город РФ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Прием наличных в любом городе России. Комиссия 2%. От 100 000 рублей."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Свяжитесь с оператором для получения инструкций"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rounding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">кратность</span><span class="w"> </span><span class="err">суммы</span><span class="w"> </span><span class="err">(</span><span class="mi">100</span><span class="w"> </span><span class="err">рублей)</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">              
    </span><span class="nl">"fee_fixed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee_limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает список всех активных направлений ввода / вывода для фиата</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h4 id='http-request-5'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/gateway_types</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>Код фиатной валюты</td>
</tr>
<tr>
<td><strong>direction</strong></td>
<td>нет</td>
<td>Направление, <strong>deposit</strong> или <strong>withdraw</strong></td>
</tr>
</tbody></table>
<h1 id='market-data'>Market data</h1><h2 id='f00f8079b3'>Сделки</h2>
<blockquote>
<p>Получить список сделок по рынку</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://garantex.io/api/v2/trades?market={market_id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34786</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.8"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">цена</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"757.51"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">в</span><span class="w"> </span><span class="err">базовой</span><span class="w"> </span><span class="err">валюте</span><span class="w">
    </span><span class="nl">"funds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52116.84"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">в</span><span class="w"> </span><span class="err">валюте</span><span class="w"> </span><span class="err">котировки</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">рынок</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-25T12:54:22+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34785</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85.06"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5834.93"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-22T19:31:41+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает историю сделок по выбранному рынку</p>

<ul>
<li>требуемый уровень доступа: <strong>публичный</strong></li>
</ul>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/trades</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>market</strong></td>
<td>да</td>
<td>ID рынка</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>нет</td>
<td>Количество записей в выборке, по умолчанию 50. Максимум - 1000</td>
</tr>
<tr>
<td><strong>timestamp</strong></td>
<td>нет</td>
<td>Время по которое получить выборку, формат - unix timestamp</td>
</tr>
<tr>
<td><strong>from</strong></td>
<td>нет</td>
<td>ID сделки начиная с которой (но не включая) получить выборку</td>
</tr>
<tr>
<td><strong>to</strong></td>
<td>нет</td>
<td>ID сделки по которую (но не включая) получить выборку</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td>нет</td>
<td>Направление сортировки, <strong>asc</strong> / <strong>desc</strong>. По умолчанию <strong>desc</strong>, последняя сделка сверху</td>
</tr>
</tbody></table>
<h2 id='be11d71726'>Заявки</h2>
<blockquote>
<p>Получить список заявок для рынка</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://garantex.io/api/v2/depth?market={market_id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1589042898</span><span class="p">,</span><span class="w">
  </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60536</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.95"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"407.82"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28119.19"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.006"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">тип</span><span class="w"> </span><span class="err">цены:</span><span class="w"> </span><span class="err">factor</span><span class="w"> </span><span class="err">или</span><span class="w"> </span><span class="err">limit</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">59506</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.984"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5620.29"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"387709.72"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.006"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"factor"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60896</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5970.02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"409543.63"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60880</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.573"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6311.96"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"432826.65"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"factor"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает состояние &quot;стаканов&quot; по выбранному рынку.
Заявки отсортированы в порядке возрастания цены для продажи и убывания цены для покупки.</p>

<ul>
<li>требуемый уровень доступа: <strong>публичный</strong></li>
</ul>
<h4 id='http-request-2'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/depth</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>market</strong></td>
<td>да</td>
<td>ID рынка</td>
</tr>
</tbody></table>
<h1 id='5b16fcdd97'>Аккаунт</h1><h2 id='df6e209eff'>Счета</h2><h3 id='63d94e3c3f'>Получить список всех пользовательских счетов</h3>
<blockquote>
<p>Получить список счетов:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/accounts"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.83001049"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91164.92"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"288570.5"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1989.85"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос для получения списка всех счетов пользователя и остатков по ним.</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/accounts</code></p>
<h3 id='11568b4fa7'>Получить состояние пользовательского счета по конкретной валюте</h3>
<blockquote>
<p>Получить состояние счета для валюты:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/accounts/btc"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.83001049"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"locked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Запрос для получения остатков по счёту в конкретной валюте.</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/accounts/{currency_id}</code></p>
<h2 id='51aff18539'>Пользователь</h2><h3 id='556033cd19'>Получение информацию о текущем пользователе.</h3>
<blockquote>
<p>Получить информация о текущем пользователе:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/members/me"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"sn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SNXXXXXXXXXX"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@garantex.io"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.83001049"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91164.92"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"288570.5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1989.85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Запрос для получения информации о текущем пользователе и балансе счетов.</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/members/me</code></p>
<h1 id='99866db24b'>Торговые операции</h1><h2 id='121ed44f23'>История сделок</h2>
<blockquote>
<p>Получить список своих сделок:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/trades/my?market={market_id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">68966</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">id</span><span class="w"> </span><span class="err">сделки</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60489</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">id</span><span class="w"> </span><span class="err">заяки</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">которой</span><span class="w"> </span><span class="err">прошла</span><span class="w"> </span><span class="err">сделка</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">рынок</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">валюта</span><span class="w"> </span><span class="err">продажи</span><span class="w">
    </span><span class="nl">"funds_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">валюта</span><span class="w"> </span><span class="err">покупки</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.91"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">цена</span><span class="w"> 
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.84"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">продажи</span><span class="w">
    </span><span class="nl">"funds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"402.46"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">покупки</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">комиссия</span><span class="w"> </span><span class="err">(процент)</span><span class="w">
    </span><span class="nl">"fee_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">комиссия</span><span class="w"> </span><span class="err">(размер)</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-07T11:46:47+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">направление:</span><span class="w"> </span><span class="err">покупка</span><span class="w"> </span><span class="err">или</span><span class="w"> </span><span class="err">продажа</span><span class="w"> </span><span class="err">(в</span><span class="w"> </span><span class="err">терминах</span><span class="w"> </span><span class="err">базовой</span><span class="w"> </span><span class="err">валюты</span><span class="w"> </span><span class="err">рынка)</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">68935</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60447</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.54"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"510.62"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.51"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-07T11:09:01+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">  
</span></code></pre></div>
<p>Запрос возвращает историю сделок пользователя по выбранному рынку.</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/trades/my</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>market</strong></td>
<td>да</td>
<td>ID рынка</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>нет</td>
<td>Количество записей в выборке, по умолчанию 50. Максимум - 1000</td>
</tr>
<tr>
<td><strong>timestamp</strong></td>
<td>нет</td>
<td>Время по которое получить выборку, формат - unix timestamp</td>
</tr>
<tr>
<td><strong>from</strong></td>
<td>нет</td>
<td>ID сделки начиная с которой (но не включая) получить выборку</td>
</tr>
<tr>
<td><strong>to</strong></td>
<td>нет</td>
<td>ID сделки по которую (но не включая) получить выборку</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td>нет</td>
<td>Направление сортировки, asc / desc. По умолчанию desc, последняя сделка сверху</td>
</tr>
</tbody></table>

<aside class="notice">
Обратите внимание: информация о сделках передаётся как валюта + сумма продажи - валюта + сумма покупки, а не исходя из базовой валюты / валюты котировки!
</aside>
<h2 id='a6ef9063b1'>История заявок</h2>
<blockquote>
<p>Получить историю заявок</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span>  <span class="s2">"https://garantex.io/api/v2/orders?market={market_id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">61002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remaining_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ord_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"factor"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wait"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fix_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:34:33+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:34:33+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">61001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remaining_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6863.73"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6863.73"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ord_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wait"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fix_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:33:47+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:33:47+03:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос для получения истории заявок по выбранному рынку с разбиением по страницам</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h4 id='http-request-2'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/orders</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>market</strong></td>
<td>да</td>
<td>ID рынка</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td>нет</td>
<td>Состояния заявки: <ul><li><b>wait</b></li><li>done</li><li>cancel</li></ul> По умолчанию пустое, выводятся все заявки.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td>нет</td>
<td>Номер страницы, по умолчанию 1</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>нет</td>
<td>Количество результатов на странице, по умолчанию 100. Максимум - 1000</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td>нет</td>
<td>Направление сортировки, <strong>asc</strong> / <strong>desc</strong>. По умолчанию <strong>desc</strong>, последняя заявка сверху</td>
</tr>
</tbody></table>
<h2 id='4f56d3d029'>Информация о заявке</h2>
<blockquote>
<p>Получить информацию о заявке</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/order?id={id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60998</span><span class="p">,</span><span class="w">
  </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"remaining_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52.91"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"executed_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.09"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ord_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wait"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fix_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"funds_received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3244.5"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"funds_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.24"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.09"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3244.5"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T11:59:32+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T13:57:20+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает детальную информацию о заявке с указанным ID</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h4 id='http-request-3'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/order</code></p>
<h3 id='6744ad4c7a-3'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>да</td>
<td>ID заявки</td>
</tr>
</tbody></table>
<h2 id='347f4bc1c5'>Установить заявку</h2>
<blockquote>
<p>Установить заявку</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="nt">-d</span> <span class="s1">'market={market_id}&amp;side={side}&amp;volume={order_volume}&amp;ord_type={order_type}&amp;fix_price={fix_price}'</span> <span class="s2">"https://garantex.io/api/v2/orders"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60998</span><span class="p">,</span><span class="w">
  </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"remaining_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">остаток</span><span class="w"> </span><span class="err">объёма</span><span class="w"> </span><span class="err">к</span><span class="w"> </span><span class="err">продаже</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">заявке</span><span class="w"> </span><span class="err">(в</span><span class="w"> </span><span class="err">терминах</span><span class="w"> </span><span class="err">продал</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">купил)</span><span class="p">,</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">типа</span><span class="w"> </span><span class="err">market</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">оставшаяся</span><span class="w"> </span><span class="err">к</span><span class="w"> </span><span class="err">откупу</span><span class="w"> </span><span class="err">сумма</span><span class="w">
  </span><span class="nl">"executed_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">средства</span><span class="w"> </span><span class="err">израсходованные</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">заявке</span><span class="w"> </span><span class="err">(в</span><span class="w"> </span><span class="err">терминах</span><span class="w"> </span><span class="err">продал</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">купил)</span><span class="w">
  </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">начальный</span><span class="w"> </span><span class="err">объём</span><span class="w"> </span><span class="err">заявки</span><span class="w"> </span><span class="err">(в</span><span class="w"> </span><span class="err">терминах</span><span class="w"> </span><span class="err">продал</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">купил)</span><span class="p">,</span><span class="w"> </span><span class="err">для</span><span class="w"> </span><span class="err">типа</span><span class="w"> </span><span class="err">market</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">ожидаемая</span><span class="w"> </span><span class="err">к</span><span class="w"> </span><span class="err">получению</span><span class="w"> </span><span class="err">сумма</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">направление</span><span class="w"> </span><span class="err">заявки</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">ask</span><span class="w"> </span><span class="err">или</span><span class="w"> </span><span class="err">bid</span><span class="w">
  </span><span class="nl">"ord_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">тип</span><span class="w"> </span><span class="err">заявки:</span><span class="w"> </span><span class="err">default</span><span class="p">,</span><span class="w"> </span><span class="err">market</span><span class="p">,</span><span class="w"> </span><span class="err">factor</span><span class="w"> </span><span class="err">или</span><span class="w"> </span><span class="err">limit</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wait"</span><span class="p">,</span><span class="w">             </span><span class="err">//</span><span class="w"> </span><span class="err">состояние</span><span class="w"> </span><span class="err">заявки:</span><span class="w"> </span><span class="err">wait</span><span class="p">,</span><span class="w"> </span><span class="err">done</span><span class="p">,</span><span class="w"> </span><span class="err">cancel</span><span class="w">
  </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">             </span><span class="err">//</span><span class="w"> </span><span class="err">цена</span><span class="w"> </span><span class="err">в</span><span class="w"> </span><span class="err">процентах</span><span class="w"> </span><span class="err">от</span><span class="w"> </span><span class="err">базового</span><span class="w"> </span><span class="err">рынка</span><span class="w"> </span><span class="err">(для</span><span class="w"> </span><span class="err">типа</span><span class="w"> </span><span class="err">factor)</span><span class="w">
  </span><span class="nl">"fix_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.9"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">фиксированная</span><span class="w"> </span><span class="err">цена</span><span class="w"> </span><span class="err">(для</span><span class="w"> </span><span class="err">типа</span><span class="w"> </span><span class="err">limit)</span><span class="w">
  </span><span class="nl">"funds_received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">средства</span><span class="w"> </span><span class="err">полученные</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">заявке</span><span class="w"> </span><span class="err">(в</span><span class="w"> </span><span class="err">терминах</span><span class="w"> </span><span class="err">продал</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">купил)</span><span class="w">
  </span><span class="nl">"funds_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">размер</span><span class="w"> </span><span class="err">комиссии</span><span class="w"> </span><span class="err">заплаченной</span><span class="w"> </span><span class="err">с</span><span class="w"> </span><span class="err">полученных</span><span class="w"> </span><span class="err">средств</span><span class="w">
  </span><span class="nl">"trades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">количество</span><span class="w"> </span><span class="err">сделок</span><span class="w"> </span><span class="err">прошедших</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">заявке</span><span class="w">
  </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">средняя</span><span class="w"> </span><span class="err">цена</span><span class="w"> </span><span class="err">исполненных</span><span class="w"> </span><span class="err">по</span><span class="w"> </span><span class="err">заявке</span><span class="w"> </span><span class="err">сделок</span><span class="w">
  </span><span class="nl">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">исполненная</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">в</span><span class="w"> </span><span class="err">базовой</span><span class="w"> </span><span class="err">валюте</span><span class="w"> </span><span class="err">рынка</span><span class="w">
  </span><span class="nl">"quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">исполненная</span><span class="w"> </span><span class="err">сумма</span><span class="w"> </span><span class="err">в</span><span class="w"> </span><span class="err">валюте</span><span class="w"> </span><span class="err">котировки</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T11:59:32+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T11:59:32+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Запрос создаёт завку на покупку / продажу для выбранного рынка.</p>

<ul>
<li>требуемый уровень доступа: <strong>trading</strong></li>
</ul>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST https://garantex.io/api/v2/orders</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>market</strong></td>
<td>да</td>
<td>ID рынка</td>
</tr>
<tr>
<td><strong>volume</strong></td>
<td>да</td>
<td>Cумма в валюте продажи</td>
</tr>
<tr>
<td><strong>side</strong></td>
<td>да</td>
<td>Направление заявки, <strong>buy</strong> или <strong>sell</strong></td>
</tr>
<tr>
<td><strong>ord_type</strong></td>
<td>нет</td>
<td>Тип заявки <ul><li>default</li><li>market</li><li>factor</li><li>limit</li></ul></td>
</tr>
<tr>
<td><strong>fix_price</strong></td>
<td>нет</td>
<td>Фикcированная цена, необходим для ord_type: <strong>limit</strong></td>
</tr>
<tr>
<td><strong>factor</strong></td>
<td>нет</td>
<td>Цена в процентах от базового рынка, необходим для ord_type: <strong>factor</strong>,<br>либо максимальное отклонение в процентах от базового рынка для ord_type: <strong>market</strong> или <strong>default</strong></td>
</tr>
</tbody></table>
<h3 id='6baa143891'>Типы заявок</h3>
<ul>
<li><strong>limit</strong>: классический тип ордера, исполнение по заданной цене. Не предназначен для криптопар.</li>
<li><strong>factor</strong>: цена исполения ордера определяется как отклонение от цены целевого рынка. Для btcrub это композит Binance BTCUSDT * MOEX USDRUB_TOM, для usdtrub - пара MOEX USDRUB_TOM. Не предназначен для криптопар.</li>
<li><strong>default</strong>: исполнение по рынку, сумма указывается в той валюте которая у вас есть. То есть, для sell btсrub это BTC, для buy btcrub - RUB.</li>
<li><strong>market</strong>: исполнение по рынку, сумма указывается в той валюте которую вы хотите получить. То есть, для sell btсrub это RUB, для buy btcrub - BTC.</li>
</ul>
<h3 id='1df4b9d2dc'>Цена заявки</h3>
<ul>
<li><strong>fix_price</strong>: классический вариант, исполнение по указанной цене пары.</li>
<li><strong>factor</strong>: процент отклонения от цены целевого рынка. Минимальное значение: -0.2, максимальное: +0.2.</li>
</ul>

<aside>Для типов заявки market и default, значение factor используется как ограничитель для минимальной / максимальной цены исполнения  . Если factor не указан, то его значение выставляется как 0.2 для покупки и -0.2 для продажи.</aside>
<h2 id='38c31abdc2'>Отменить заявку</h2>
<blockquote>
<p>Отменить заявку</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="nt">-d</span> <span class="s1">'id={order_id}'</span> <span class="s2">"https://garantex.io/api/v2/order/delete"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60998</span><span class="p">,</span><span class="w">
  </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"remaining_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52.91"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"executed_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.09"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ord_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wait"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fix_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"funds_received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3244.5"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"funds_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.24"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.09"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3244.5"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T11:59:32+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T13:57:20+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Запрос для отмены заявки с указанным ID</p>

<ul>
<li>требуемый уровень доступа: <strong>trading</strong></li>
</ul>
<h4 id='http-request-2'>HTTP Request</h4>
<p><code>POST https://garantex.io/api/v2/order/delete</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>да</td>
<td>ID заявки</td>
</tr>
</tbody></table>

<aside>Возвращается состояние заявки ДО ОТМЕНЫ.</aside>
<h2 id='eb41402311'>Отменить все заявки</h2>
<blockquote>
<p>Отменить все заявки </p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span>  <span class="s2">"https://garantex.io/api/v2/orders/clear"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">61002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remaining_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ask"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ord_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"factor"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wait"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fix_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:34:33+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:34:33+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">61001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtrub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remaining_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6863.73"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6863.73"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ord_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wait"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fix_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_received"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funds_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executed_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:33:47+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-10T14:33:47+03:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Запрос для отмены всех активных заявок, с возможностью фильтрации по рынку / направлению</p>

<ul>
<li>требуемый уровень доступа: <strong>trading</strong></li>
</ul>
<h4 id='http-request-3'>HTTP Request</h4>
<p><code>POST https://garantex.io/api/v2/orders/clear</code></p>
<h3 id='6744ad4c7a-3'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>market</strong></td>
<td>нет</td>
<td>ID рынка</td>
</tr>
<tr>
<td><strong>side</strong></td>
<td>нет</td>
<td>Направление заявки: <strong>sell</strong> или <strong>buy</strong></td>
</tr>
</tbody></table>

<aside>Возвращается состояние подходящих по критерию заявок ДО ФАКТИЧЕСКОЙ ОТМЕНЫ.</aside>
<h1 id='c4da615673'>Депозиты</h1><h2 id='b3d4caadb3'>История депозитов</h2>
<blockquote>
<p>Получить список депозитов:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposits"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36931</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Наличные касса Москва: "</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-23T10:10:23+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-23T10:10:36+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36354</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"код пополнения: TGJ0C5IYM62PBDR8HAQO"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-05T23:13:01+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-05T23:13:01+03:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36060</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"640.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88178478a5df7c3dd0a53dddf70fc0c092f5fc4b0fff6f3058381f99c7e92abe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">9606704</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">23212</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xda36a74ca59f8816dc330fae1074223aa89833a1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:49:13+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:50:05+03:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='40426907e0'>Получение списка депозитов пользователя.</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposits</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>нет</td>
<td>Получить список депозитов только по указанной валюте</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>нет</td>
<td>Количество результатов в ответе, по умолчанию 50. Максимум - 500</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td>нет</td>
<td>Статус депозита: <ul><li>pending</li><li>canceled</li><li>submitted</li><li>accepted</li><li>rejected</li></ul></td>
</tr>
</tbody></table>
<h3 id='bd6108841b'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом списке различаются для фиатных и крипто депозитов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>.</p>
<h2 id='3e577c2287'>Информация о депозите</h2>
<blockquote>
<p>Получить детали депозита по deposit id:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposit/{deposit_id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36060</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"640.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88178478a5df7c3dd0a53dddf70fc0c092f5fc4b0fff6f3058381f99c7e92abe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">9606704</span><span class="p">,</span><span class="w">
  </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">23212</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xda36a74ca59f8816dc330fae1074223aa89833a1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:49:13+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:50:05+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='id'>Получение детальной информации о депозите по id</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposit/{deposit_id}</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>deposit_id</strong></td>
<td>да</td>
<td>ID депозита полученное при его создании / из истории депозитов</td>
</tr>
</tbody></table>
<h3 id='bd6108841b-2'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом списке различаются для фиатных и крипто депозитов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>.</p>

<blockquote>
<p>Получить детали депозита по txid:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposit?txid={txid}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36060</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"640.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88178478a5df7c3dd0a53dddf70fc0c092f5fc4b0fff6f3058381f99c7e92abe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">9606704</span><span class="p">,</span><span class="w">
  </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">23212</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xda36a74ca59f8816dc330fae1074223aa89833a1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:49:13+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T22:50:05+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='txid'>Получение детальной информации о депозите по txid транзакции</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposit?txid={txid}</code></p>
<h3 id='6744ad4c7a-3'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>txid</strong></td>
<td>да</td>
<td>txid транзакции в блокчейне</td>
</tr>
</tbody></table>
<h3 id='bd6108841b-3'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом списке различаются для фиатных и крипто депозитов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>.</p>
<h2 id='5876f71674'>Создание депозита</h2>
<blockquote>
<p>Создать заявку на депозит:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s1">'Authorization: Bearer {JWT}'</span> <span class="nt">-H</span> <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> <span class="nt">-d</span> <span class="s1">'currency={currency_id}&amp;amount={amount}&amp;gateway_type_id={gateway_type_id}'</span> <span class="s1">'https://garantex.io/api/v2/deposits/create'</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36960</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Наличные касса Москва: "</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-08T20:33:58+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='e3f9070304'>Создание заявки на внос средств.</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://garantex.io/api/v2/deposits/create</code></p>
<h3 id='6744ad4c7a-4'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>Код фиатной валюты (rub)</td>
</tr>
<tr>
<td><strong>amount</strong></td>
<td>да</td>
<td>Размер депозита</td>
</tr>
<tr>
<td><a href='#92dd9b64ca'>gateway_type_id</a></td>
<td>да</td>
<td>ID выбранного метода пополнения</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td>нет</td>
<td>JSON поле с дополнительной информацией о депозите, необходимость и формат поля зависят от выбранного метода пополнения</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>нет</td>
<td>Информация об адресе депозита, необходимость и формат поля зависят от выбранного метода пополнения</td>
</tr>
</tbody></table>
<h2 id='6736666fad'>Адрес для депозита крипты</h2>
<blockquote>
<p>Получить адрес для депозита крипты:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/deposit_address?currency={currency_id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt-omni"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3DVQ9WL2rTjBm1q7UHwWAQdNCKveFRJCYk"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='41b3c4e012'>Получение актуального адреса для депозита крипты</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposit_address?currency={currency_id}</code></p>
<h3 id='6744ad4c7a-5'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>ID валюты для депозита</td>
</tr>
</tbody></table>

<blockquote>
<p>Получить дополнительный адрес для депозита крипты:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="nt">-d</span> <span class="s2">"currency=btc"</span> <span class="s2">"https://garantex.io/api/v2/deposit_address"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6789</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='0ee67631ae'>Получение дополнительного адреса для депозита крипты</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://garantex.io/api/v2/deposit_address</code></p>
<h3 id='6744ad4c7a-6'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>ID валюты для депозита</td>
</tr>
</tbody></table>
<h3 id='bd6108841b-4'>Возвращаемые значения</h3>
<p>Обратите внимание, значение адреса в ответе может быть null! 
Это нормальная ситуация, так как создание нового адреса занимает время, и в таком случае фактический адрес должен быть получен отдельно,
запросом <code>/deposit_address/details</code>.</p>

<blockquote>
<p>Получить детальную информации о конкретном депозит адресе</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="nt">-d</span> <span class="s2">"currency=btc"</span> <span class="s2">"https://garantex.io/api/v2/deposit_address/details?id={id}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6789</span><span class="p">,</span><span class="w">
  </span><span class="nl">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Qtj2uSv2AV7S86iTzJW1RwCoNKzGrJFyJ"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='0ec97bac14'>Получение детальной информации о конкретном депозит адресе</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET https://garantex.io/api/v2/deposit_address/details</code></p>
<h3 id='6744ad4c7a-7'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>да</td>
<td>ID депозит адреса</td>
</tr>
</tbody></table>
<h3 id='bd6108841b-5'>Возвращаемые значения</h3>
<p>Обратите внимание, значение адреса в ответе может быть null! 
Это нормальная ситуация, так как создание нового адреса занимает время, и в таком случае запрос необходимо повторить позже.</p>

<p>Кроме того, в ответе будет указан не код валюты, но код блокчейна, так как адреса валидны для всех валют которые поддерживаются на этом блокчейне. </p>
<h3 id='9b6a512f8e'>Мульти-блокчейн валюты</h3>
<p>Для валют которые используют больше чем один блокчейн, по умолчанию возвращается адрес для &quot;основного&quot; блокчейна.
При необходимости получить адрес из другого блокчейна, он указывается через дефис, например usdt-omni.</p>
<h1 id='garantex'>Коды Garantex</h1><h2 id='58a6cf1712'>Выпуск кода</h2>
<blockquote>
<p>Вывод в средств в код:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s1">'Authorization: Bearer {JWT}'</span> <span class="nt">-H</span> <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> <span class="nt">-d</span> <span class="s1">'currency={currency_id}&amp;amount={amount}'</span> <span class="s1">'https://garantex.io/api/v2/depositcodes/create'</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8VTP13QFV06ZQLXXHBGN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"succeed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-08T01:57:22+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"used_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='b665cc3539'>Вывод в средств в код.</h3>
<ul>
<li>требуемый уровень доступа: <strong>withdraw</strong></li>
</ul>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://garantex.io/api/v2/depositcodes/create</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>Код фиатной валюты (rub)</td>
</tr>
<tr>
<td><strong>amount</strong></td>
<td>да</td>
<td>Сумма для вывода</td>
</tr>
</tbody></table>
<h2 id='7014b0a527'>Депозит кода</h2>
<blockquote>
<p>Депозит кода:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s1">'Authorization: Bearer {JWT}'</span> <span class="nt">-H</span> <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> <span class="nt">-d</span> <span class="s1">'deposit_code={deposit_code}'</span> <span class="s1">'https://garantex.io/api/v2/depositcodes/redeem'</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8VTP13QFV06ZQLXXHBGN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"succeed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-08T01:57:22+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"used_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-08T02:14:35+03:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='eb5e354ee6'>Депозит кода.</h3>
<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://garantex.io/api/v2/depositcodes/redeem</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>deposit_code</strong></td>
<td>да</td>
<td>Код</td>
</tr>
</tbody></table>
<h1 id='23dab7a7ad'>Выводы</h1><h2 id='f8eb11b7d7'>История выводов</h2>
<blockquote>
<p>Получить список выводов</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/withdraws"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32690</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"код пополнения: XQGW4***************"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"succeed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-13T22:52:37+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-13T22:52:37+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-13T22:52:37+03:00"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31449</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">тип</span><span class="w"> </span><span class="err">валюты:</span><span class="w"> </span><span class="err">coin</span><span class="w"> </span><span class="err">или</span><span class="w"> </span><span class="err">fiat</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01145726"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00005"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3AXFusZJufbaxcm8o2JoD2eHEvZDgL9Asu"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"succeed"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">статус</span><span class="w"> </span><span class="err">заявки</span><span class="w"> 
    </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70c71a54b3554de88829ef3cc6323e90443f4615943d4352c081cd6f33c34f2a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">620172</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">592</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T18:11:54+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T18:17:10+03:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-04T18:17:10+03:00"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает список заявок на вывод с разбиением по страницам.
Заявки выводятся отсортированные от новых к старым.</p>

<ul>
<li>требуемый уровень доступа: <strong>read-only</strong></li>
</ul>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET https://garantex.io/api/v2/withdraws</code></p>
<h3 id='6744ad4c7a'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>нет</td>
<td>Код валюты</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td>нет</td>
<td>Номер страницы, по умолчанию 1</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>нет</td>
<td>Количество записей на странице, по умолчанию 100. Максимум - 1000</td>
</tr>
</tbody></table>
<h3 id='bd6108841b'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом списке различаются для фиатных и крипто выводов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>.</p>
<h2 id='f0e3b97934'>Создание заявки на вывод</h2>
<blockquote>
<p>Создать заявку на вывод средств</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="nt">-H</span> <span class="s2">"Authorization: Bearer {JWT}"</span> <span class="s2">"https://garantex.io/api/v2/withdraws/create?currency={currency_id}&amp;amount={amount}&amp;rid={address}"</span>
</code></pre></div>
<blockquote>
<p>Пример ответа (вывод крипты):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33104</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101.17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xda36a74ca59f8816dc330fae1074223aa89833a1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-09T20:27:15+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-09T20:27:15+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Пример ответа (вывод фиата):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33108</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fiat"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15150.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Сбербанк онлайн регионы: 1234 5678 9012 3456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-09T21:12:13+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-09T21:12:13+03:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Запрос возвращает список заявок на вывод с разбиением по страницам.
Заявки выводятся отсортированные от новых к старым.</p>

<ul>
<li>требуемый уровень доступа: <strong>withdraw</strong></li>
</ul>
<h4 id='http-request-2'>HTTP Request</h4>
<p><code>POST https://garantex.io/api/v2/withdraws/create</code></p>
<h3 id='6744ad4c7a-2'>Параметры</h3>
<table><thead>
<tr>
<th>Параметр</th>
<th>Обязательный</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>currency</strong></td>
<td>да</td>
<td>Код валюты</td>
</tr>
<tr>
<td><strong>amount</strong></td>
<td>да</td>
<td>Сумма к получению (без учёта комиссии!)</td>
</tr>
<tr>
<td><strong>rid</strong></td>
<td>да</td>
<td>Адрес вывода. Для фиата формат поля зависит от направления.</td>
</tr>
<tr>
<td><a href='#92dd9b64ca'>gateway_type_id</a></td>
<td>зависит от валюты</td>
<td>ID выбранного метода пополнения, необходимо для фиата.</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td>нет</td>
<td>JSON поле с дополнительной информацией о выводе, необходимость и формат поля зависят от выбранного направления вывода.</td>
</tr>
</tbody></table>
<h3 id='bd6108841b-2'>Возвращаемые значения</h3>
<p>Обратите внимание, поля в возвращаемом значении различаются для фиатных и крипто выводов!</p>

<p>Для крипты добавляются поля <strong>txid</strong>, <strong>block_number</strong> и <strong>confirmations</strong>, выставленные в нулевые значения.</p>
<h1 id='allbacks'>Сallbacks</h1>
<p>Garantex поддерживает 3 вида обратных вызовов:</p>

<ul>
<li><p>по изменению состояния депозита</p></li>
<li><p>по изменению состояния вывода</p></li>
<li><p>по изменению состояния ордера / по исполнению сделки</p></li>
</ul>

<p>Ссылки для обратных вызовов прописываются в форме API Callback в настройках профиля: <a href='https://garantex.io/settings'>https://garantex.io/settings</a></p>

<p>Формат отправки запросов: POST x-www-form-urlencoded </p>

<p>Общие параметры, передаваемые в запросе: </p>

<table><thead>
<tr>
<th>Параметр</th>
<th>Значение</th>
<th>Описание</th>
</tr>
</thead><tbody>
<tr>
<td><strong>event_type</strong></td>
<td>String<ul><li>deposit</li><li>withdraw</li><li>order</li><li>trade</li></ul></td>
<td>тип объекта<ul><li>депозит</li><li>вывод</li><li>заявка</li><li>сделка</li></ul></td>
</tr>
<tr>
<td><strong>id</strong></td>
<td>Integer</td>
<td>id объекта</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td>String</td>
<td>тип события / состояние объекта</td>
</tr>
</tbody></table>

<p>все остальные поля для каждого типа объекта свои, и совпадают с тем что возвращается в обычных API запросах для этого объекта.  </p>

<p>Типы событий различаются для разных объектов.</p>

<p>Возможные типы:</p>

<ul>
<li>сделки 

<ul>
<li><strong>created</strong>: сделка проведена</li>
</ul></li>
<li>заявки

<ul>
<li><strong>done</strong>: исполнена</li>
<li><strong>cancel</strong>: отменена</li>
</ul></li>
<li>депозиты

<ul>
<li><strong>submitted</strong>: создан</li>
<li><strong>accepted</strong>: зачислен</li>
<li><strong>rejected</strong>: отменён</li>
<li><strong>suspected</strong>: заблокирован службой безопасности</li>
</ul></li>
<li>выводы

<ul>
<li><strong>processing</strong>: отправляется</li>
<li><strong>succeed</strong>: завершён</li>
<li><strong>confirming</strong>: подтверждается в блокчейне</li>
<li><strong>failed</strong>: не удался</li>
<li><strong>rejected</strong>: отменён</li>
<li><strong>suspected</strong>: отменён службой безопасности</li>
</ul></li>
</ul>

<p>Имейте ввиду, что для фиатных и крипто валют последовательность статусов вывода будет разной, а для разных типов выводов часть промежуточных статусов может быть пропущена. </p>
<h1 id='681b5ae3d2'>Ошибки</h1>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>2000</td>
<td>Invalid API-key, IP, or permissions for action.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - JWT токен неверен</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests - Вы привысили допустимую частоту запросов.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error - We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable - We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="javascript">NodeJS</a>
          </div>
      </div>
    </div>
  </body>
</html>
